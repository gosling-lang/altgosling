{
  "title": "Custom Mouse Events",
  "subtitle": "Customize mouse hovering and range selection events",
  "xDomain": {
    "chromosome": "chr1"
  },
  "views": [
    {
      "tracks": [
        {
          "title": "Individual Marks",
          "data": {
            "url": "https://server.gosling-lang.org/api/v1/tileset_info/?d=cistrome-multivec",
            "type": "multivec",
            "row": "sample",
            "column": "position",
            "value": "peak",
            "categories": [
              "sample 1",
              "sample 2",
              "sample 3",
              "sample 4"
            ],
            "binSize": 16
          },
          "mark": "bar",
          "x": {
            "field": "start",
            "type": "genomic"
          },
          "xe": {
            "field": "end",
            "type": "genomic"
          },
          "color": {
            "field": "sample",
            "type": "nominal"
          },
          "y": {
            "field": "peak",
            "type": "quantitative",
            "axis": "none"
          },
          "tooltip": [
            {
              "field": "start",
              "type": "genomic",
              "alt": "Start Position"
            },
            {
              "field": "end",
              "type": "genomic",
              "alt": "End Position"
            },
            {
              "field": "peak",
              "type": "quantitative",
              "alt": "Value",
              "format": ".2"
            },
            {
              "field": "sample",
              "type": "nominal",
              "alt": "Sample"
            }
          ],
          "width": 420,
          "height": 42,
          "experimental": {
            "mouseEvents": {
              "mouseOver": true,
              "rangeSelect": true
            }
          },
          "style": {
            "mouseOver": {
              "color": "blue",
              "opacity": 0.5,
              "strokeWidth": 0
            },
            "select": {
              "color": "red",
              "opacity": 0.5
            },
            "brush": {
              "color": "purple",
              "stroke": "purple"
            }
          }
        }
      ]
    },
    {
      "tracks": [
        {
          "title": "Group Marks By Sample",
          "data": {
            "url": "https://server.gosling-lang.org/api/v1/tileset_info/?d=cistrome-multivec",
            "type": "multivec",
            "row": "sample",
            "column": "position",
            "value": "peak",
            "categories": [
              "sample 1",
              "sample 2",
              "sample 3",
              "sample 4"
            ],
            "binSize": 16
          },
          "mark": "bar",
          "x": {
            "field": "start",
            "type": "genomic"
          },
          "xe": {
            "field": "end",
            "type": "genomic"
          },
          "color": {
            "field": "sample",
            "type": "nominal"
          },
          "y": {
            "field": "peak",
            "type": "quantitative",
            "axis": "none"
          },
          "tooltip": [
            {
              "field": "start",
              "type": "genomic",
              "alt": "Start Position"
            },
            {
              "field": "end",
              "type": "genomic",
              "alt": "End Position"
            },
            {
              "field": "peak",
              "type": "quantitative",
              "alt": "Value",
              "format": ".2"
            },
            {
              "field": "sample",
              "type": "nominal",
              "alt": "Sample"
            }
          ],
          "width": 420,
          "height": 42,
          "experimental": {
            "mouseEvents": {
              "mouseOver": true,
              "rangeSelect": true,
              "groupMarksByField": "sample"
            }
          },
          "style": {
            "mouseOver": {
              "color": "blue",
              "opacity": 0.5,
              "strokeWidth": 0
            },
            "select": {
              "color": "red",
              "opacity": 0.5
            },
            "brush": {
              "color": "green",
              "stroke": "green"
            }
          }
        }
      ]
    },
    {
      "tracks": [
        {
          "title": "Group Marks By Genomic Position",
          "data": {
            "url": "https://server.gosling-lang.org/api/v1/tileset_info/?d=cistrome-multivec",
            "type": "multivec",
            "row": "sample",
            "column": "position",
            "value": "peak",
            "categories": [
              "sample 1",
              "sample 2",
              "sample 3",
              "sample 4"
            ],
            "binSize": 16
          },
          "mark": "bar",
          "x": {
            "field": "start",
            "type": "genomic"
          },
          "xe": {
            "field": "end",
            "type": "genomic"
          },
          "color": {
            "field": "sample",
            "type": "nominal"
          },
          "y": {
            "field": "peak",
            "type": "quantitative",
            "axis": "none"
          },
          "tooltip": [
            {
              "field": "start",
              "type": "genomic",
              "alt": "Start Position"
            },
            {
              "field": "end",
              "type": "genomic",
              "alt": "End Position"
            },
            {
              "field": "peak",
              "type": "quantitative",
              "alt": "Value",
              "format": ".2"
            },
            {
              "field": "sample",
              "type": "nominal",
              "alt": "Sample"
            }
          ],
          "width": 420,
          "height": 42,
          "experimental": {
            "mouseEvents": {
              "mouseOver": true,
              "rangeSelect": true,
              "groupMarksByField": "position"
            }
          },
          "style": {
            "mouseOver": {
              "color": "blue",
              "opacity": 0.5,
              "strokeWidth": 0
            },
            "select": {
              "color": "red",
              "opacity": 0.5
            },
            "brush": {
              "color": "yellow",
              "stroke": "yellow"
            }
          }
        }
      ]
    },
    {
      "xDomain": {
        "chromosome": "chr3",
        "interval": [
          52168000,
          52890000
        ]
      },
      "tracks": [
        {
          "title": "Group Marks By Gene",
          "template": "gene",
          "data": {
            "url": "https://server.gosling-lang.org/api/v1/tileset_info/?d=gene-annotation",
            "type": "beddb",
            "genomicFields": [
              {
                "index": 1,
                "name": "start"
              },
              {
                "index": 2,
                "name": "end"
              }
            ],
            "valueFields": [
              {
                "index": 5,
                "name": "strand",
                "type": "nominal"
              },
              {
                "index": 3,
                "name": "name",
                "type": "nominal"
              }
            ],
            "exonIntervalFields": [
              {
                "index": 12,
                "name": "start"
              },
              {
                "index": 13,
                "name": "end"
              }
            ]
          },
          "encoding": {
            "startPosition": {
              "field": "start"
            },
            "endPosition": {
              "field": "end"
            },
            "strandColor": {
              "field": "strand",
              "range": [
                "gray"
              ]
            },
            "strandRow": {
              "field": "strand"
            },
            "opacity": {
              "value": 0.4
            },
            "geneHeight": {
              "value": 20
            },
            "geneLabel": {
              "field": "name"
            },
            "geneLabelFontSize": {
              "value": 20
            },
            "geneLabelColor": {
              "field": "strand",
              "range": [
                "gray"
              ]
            },
            "geneLabelStroke": {
              "value": "white"
            },
            "geneLabelStrokeThickness": {
              "value": 4
            },
            "geneLabelOpacity": {
              "value": 1
            },
            "type": {
              "field": "type"
            }
          },
          "tooltip": [
            {
              "field": "name",
              "type": "nominal"
            }
          ],
          "width": 420,
          "height": 42,
          "experimental": {
            "mouseEvents": {
              "mouseOver": true,
              "rangeSelect": true,
              "groupMarksByField": "name"
            }
          },
          "style": {
            "mouseOver": {
              "arrange": "behind",
              "color": "#E0E0E0",
              "stroke": "#E0E0E0",
              "strokeWidth": 4
            },
            "select": {
              "arrange": "behind",
              "color": "#B9D4FA",
              "stroke": "#B9D4FA",
              "strokeWidth": 4
            }
          }
        }
      ]
    },
    {
      "xDomain": {
        "interval": [
          1,
          1000000000
        ]
      },
      "tracks": [
        {
          "title": "Group Marks By Chromosome",
          "alignment": "overlay",
          "data": {
            "url": "https://raw.githubusercontent.com/sehilyi/gemini-datasets/master/data/cytogenetic_band.csv",
            "type": "csv",
            "chromosomeField": "Chr.",
            "genomicFields": [
              "ISCN_start",
              "ISCN_stop",
              "Basepair_start",
              "Basepair_stop"
            ]
          },
          "tracks": [
            {
              "mark": "text",
              "dataTransform": [
                {
                  "type": "filter",
                  "field": "Stain",
                  "oneOf": [
                    "acen-1",
                    "acen-2"
                  ],
                  "not": true
                }
              ],
              "text": {
                "field": "Band",
                "type": "nominal"
              },
              "color": {
                "value": "black"
              },
              "visibility": [
                {
                  "operation": "less-than",
                  "measure": "width",
                  "threshold": "|xe-x|",
                  "transitionPadding": 10,
                  "target": "mark"
                }
              ]
            },
            {
              "mark": "rect",
              "dataTransform": [
                {
                  "type": "filter",
                  "field": "Stain",
                  "oneOf": [
                    "acen-1",
                    "acen-2"
                  ],
                  "not": true
                }
              ],
              "color": {
                "field": "Density",
                "type": "nominal",
                "domain": [
                  "",
                  "25",
                  "50",
                  "75",
                  "100"
                ],
                "range": [
                  "white",
                  "#D9D9D9",
                  "#979797",
                  "#636363",
                  "black"
                ]
              }
            },
            {
              "mark": "rect",
              "dataTransform": [
                {
                  "type": "filter",
                  "field": "Stain",
                  "oneOf": [
                    "gvar"
                  ]
                }
              ],
              "color": {
                "value": "#A0A0F2"
              }
            },
            {
              "mark": "triangleRight",
              "dataTransform": [
                {
                  "type": "filter",
                  "field": "Stain",
                  "oneOf": [
                    "acen-1"
                  ]
                }
              ],
              "color": {
                "value": "#B40101"
              }
            },
            {
              "mark": "triangleLeft",
              "dataTransform": [
                {
                  "type": "filter",
                  "field": "Stain",
                  "oneOf": [
                    "acen-2"
                  ]
                }
              ],
              "color": {
                "value": "#B40101"
              }
            }
          ],
          "x": {
            "field": "Basepair_start",
            "type": "genomic"
          },
          "xe": {
            "field": "Basepair_stop",
            "type": "genomic"
          },
          "stroke": {
            "value": "gray"
          },
          "strokeWidth": {
            "value": 0.5
          },
          "width": 420,
          "height": 42,
          "size": {
            "value": 20
          },
          "tooltip": [
            {
              "field": "Chr.",
              "type": "nominal"
            }
          ],
          "experimental": {
            "mouseEvents": {
              "click": true,
              "mouseOver": true,
              "rangeSelect": true,
              "groupMarksByField": "Chr."
            }
          },
          "style": {
            "mouseOver": {
              "color": "blue",
              "opacity": 0.5,
              "strokeWidth": 0
            },
            "select": {
              "color": "red",
              "opacity": 0.5,
              "strokeWidth": 0
            }
          }
        }
      ]
    }
  ]
}